<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1.0" />
    <title>swf2js</title>
    <script type="text/javascript" src="swf2js.js"></script>
    <script type="text/javascript" src="./fps/stats.js"></script>
</head>
<body style="margin: 0; padding: 0; background-color: #fff;">
<script type="text/javascript">
    var stats = new Stats();
    document.body.appendChild( stats.dom );
    // swf2js.load("develop", { quality: "high" });

    var root = swf2js.createRootMovieClip(500, 500, 1);

    var Shape = root.stage.player.getPackage("flash.display.Shape");
    var shape = new Shape();

    var g = shape.graphics;

    // ------------------------------------------------------------
    // 線のグラデーション塗り設定
    // ------------------------------------------------------------
    // 線の太さ (0 ～ 255) (0 で極細線)
    var thickness = 30;
    // グラデーションの種類
    var GradientType = root.stage.player.getPackage("flash.display.GradientType");
    var gradient_type = GradientType.RADIAL;
    // グラデーション
    var gradient_colors = [ 0xff0000 , 0x00ff00 , 0x0000ff ];	// RGB カラーリスト
    var gradient_alphas = [      1.0 ,      1.0 ,      1.0 ];	// 透明度リスト
    var gradient_ratios = [        0 ,    127.5 ,      255 ];	// 配分リスト
    // グラデーションの行列
    var Matrix = root.stage.player.getPackage("flash.geom.Matrix");
    var gradient_mtx = new Matrix();
    // スプレッドの種類
    var SpreadMethod = root.stage.player.getPackage("flash.display.SpreadMethod");
    var spread_method = SpreadMethod.PAD;
    // 補間の種類
    var InterpolationMethod = root.stage.player.getPackage("flash.display.InterpolationMethod");
    var interpolation_method = InterpolationMethod.LINEAR_RGB;
    // 焦点位置 (-1.0 ～ 1.0)
    var focal_point_ratio = 0.0;

    // ------------------------------------------------------------
    // グラデーションの行列
    // ------------------------------------------------------------
    // 単位行列化
    gradient_mtx.identity();
    // 拡大縮小成分を乗算
    gradient_mtx.scale( 256/1638.4 , 256/1638.4 );
    // 角度成分を乗算
    gradient_mtx.rotate( 0.0 * (Math.PI / 180) );
    // 移動成分を乗算
    gradient_mtx.translate( 128.0 , 128.0 );


    // ------------------------------------------------------------
    // 線の基礎的なスタイルを指定する
    // ------------------------------------------------------------
    g.lineStyle( thickness );

    // ------------------------------------------------------------
    // 線に「グラデーション塗り」スタイルを指定する
    // ------------------------------------------------------------
    g.lineGradientStyle( gradient_type , gradient_colors , gradient_alphas , gradient_ratios , gradient_mtx , spread_method , interpolation_method , focal_point_ratio );

    // ------------------------------------------------------------
    // 直線を描画する
    // ------------------------------------------------------------
    for(var i=0;i < 8;i++){

        var pos_y = i * 32.0 + 16.0;

        // 開始位置
        g.moveTo (   0.0 , pos_y );
        // 直線を描画
        g.lineTo ( 256.0 , pos_y );
    }

    root.addChild(shape);

    // root.stage.player.resize();
    // root.stage.player.loaded();
    // root.stage.player.loadStatus = 4;
    // root.stage.player.draw();
    //
    // console.log(root.stage.player.canvas.toDataURL());


</script>
</body>
</html>
